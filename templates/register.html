{% extends "base.html" %}
{%load static%}
{% block title %}Register{% endblock %}
{% block content %}
    
    <div class="login-register-form">
        <h2>Register</h2>
        <form method="post" onsubmit="return validatePassword();">
            {% csrf_token %}
            <!-- Add 'value' attribute to input fields to display entered values -->
            <label for="birthday">Birthday:</label>
            <input type="date" id="birthday" name="birthday" required value="{{ birthday }}">
            <label for="new-username">Username:</label>
            <input type="text" id="new-username" name="new-username" placeholder="Choose a username" required value="{{ new_username }}">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" placeholder="Enter your email" required value="{{ email }}">
            <label for="new-username">First Name:</label>
            <input type="text" id="first_name" name="first_name" placeholder="Enter your firstname" required value="{{ first_name }}">
            <label for="new-username">Last Name:</label>
            <input type="text" id="last_name" name="last_name" placeholder="Enter your lastname" required value="{{ last_name }}">
            <label for="new-password">Password:</label>
            <input type="password" id="new-password" name="new-password" placeholder="Create a password" required>
            <label for="confirm-password">Confirm Password:</label>
            <input type="password" id="confirm-password" name="confirm-password" placeholder="Confirm your password" required>
            <button type="submit">Register</button>
        </form>
        {% if messages %}
        <ul class="errorlist">  
            {% for message in messages %}
                <li id="error">{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        <a href="login" class="form-link">Already have an account? Login here</a>
    </div>

    <script>
        function validatePassword() {
            var password = document.getElementById("new-password").value;
    
            // Define the regular expression for password validation
            var passwordRegex = /^(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.*[0-9]).{8,}$/;
    
            if (!passwordRegex.test(password)) {
                alert("Password must have at least one uppercase letter, one special character, one digit, and a minimum length of 8 characters.");
                return false;
            }
    
            return true;
        }
    </script>

{% endblock %}
